"use strict";(globalThis["webpackChunkfrontend"]=globalThis["webpackChunkfrontend"]||[]).push([[456],{7456:(e,s,o)=>{o.r(s),o.d(s,{default:()=>z});var i=o(9835),l=o(6970);const t={class:"row justify-center",style:{"min-height":"100vh"}},n={key:0,class:"q-ma-sm q-pa-md col-12 bg-white shadow-6",style:{"max-width":"500px"}},r={class:"professions"},a=(0,i._)("h5",null,"Professions",-1),d={class:"buttons float-right"},u=(0,i._)("br",null,null,-1),c={class:"text-h6"},h=(0,i._)("div",{class:"text-subtitle2"},"Areas of work:",-1),f={class:"text-subtitle2"},p=(0,i.Uk)(" Skill: "),m=(0,i.Uk)("Add "),g=(0,i._)("div",{class:"q-px-md text-h6"},"What is your Profession?",-1),w=(0,i._)("div",{class:"q-px-md text-h6"},"What are your areas of Profession?",-1),b={class:"q-pa-md"},P=(0,i._)("div",{class:"q-pa-sm text-subtitle2"}," What is your skill level in this field? ",-1),v={class:"q-gutter-y-md column"},k={class:"q-pa-sm"};function q(e,s,o,q,y,M){const C=(0,i.up)("q-btn"),V=(0,i.up)("q-chip"),_=(0,i.up)("q-rating"),x=(0,i.up)("q-select"),W=(0,i.up)("q-form");return(0,i.wg)(),(0,i.iD)("div",t,[e.showProfessions?((0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",r,[a,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.user.professions,((s,o)=>((0,i.wg)(),(0,i.iD)("div",{class:"q-pa-md",key:o},[(0,i._)("div",d,[(0,i.Wm)(C,{class:"q-ma-sm",icon:"edit",onClick:o=>e.editProfession(s)},null,8,["onClick"]),u,(0,i.Wm)(C,{class:"q-ma-sm",icon:"delete"})]),(0,i._)("div",c,(0,l.zw)(s.profession),1),h,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.subProfession,((e,s)=>((0,i.wg)(),(0,i.iD)("div",{key:s},[(0,i.Wm)(V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(e),1)])),_:2},1024)])))),128)),(0,i._)("div",f,[p,(0,i.Wm)(_,{modelValue:s.skillLevel,"onUpdate:modelValue":e=>s.skillLevel=e,size:"1.5em",color:"primary",readonly:""},null,8,["modelValue","onUpdate:modelValue"])])])))),128))]),(0,i.Wm)(C,{class:"q-ma-md",onClick:s[0]||(s[0]=s=>{e.showAddProfession=!e.showAddProfession,e.showProfessions=!e.showProfessions})},{default:(0,i.w5)((()=>[m])),_:1})])):(0,i.kq)("",!0),e.showAddProfession?((0,i.wg)(),(0,i.j4)(W,{key:1,onSubmit:e.onSubmit,onReset:e.onReset,class:"q-ma-sm q-pa-md col-12 bg-white shadow-6",style:{"max-width":"500px"}},{default:(0,i.w5)((()=>[g,(0,i.Wm)(x,{outlined:"",class:"q-pa-md",modelValue:e.professionModel,"onUpdate:modelValue":[s[1]||(s[1]=s=>e.professionModel=s),s[2]||(s[2]=s=>e.onProfessionChange())],"use-input":"","input-debounce":"0",label:"Profession",options:e.options,onFilter:e.filterFn,behavior:"menu"},null,8,["modelValue","options","onFilter"]),w,(0,i.Wm)(x,{outlined:"",class:"q-pa-md",modelValue:e.subProfessionModel,"onUpdate:modelValue":s[3]||(s[3]=s=>e.subProfessionModel=s),"use-input":"","use-chips":"",multiple:"","input-debounce":"0",onNewValue:e.createValue,options:e.filterOptions,onFilter:e.filterFn2},null,8,["modelValue","onNewValue","options","onFilter"]),(0,i._)("div",b,[P,(0,i._)("div",v,[(0,i.Wm)(_,{modelValue:e.ratingModel,"onUpdate:modelValue":s[4]||(s[4]=s=>e.ratingModel=s),size:"3em",color:"grey","color-selected":e.ratingColors},null,8,["modelValue","color-selected"])])]),(0,i._)("div",k,[(0,i.Wm)(C,{rounded:"",outlined:"","text-color":"primary","bg-color":"white",label:"Done",type:"submit",color:"white "}),(0,i.Wm)(C,{rounded:"",outlined:"","text-color":"primary","bg-color":"white",label:"Cancel",onClick:e.cancelEdit,color:"white "},null,8,["onClick"])])])),_:1},8,["onSubmit","onReset"])):(0,i.kq)("",!0)])}o(6727);var y=o(4854),M=o.t(y,2),C=o(499),V=o(1569),_=o(9302);const x=["Accountant","Teacher","Technician","Laborer","Banker","Engineer","Lawyer","Psychologist","Pharmacist","Research Analyst","Mechanic","Dentist","Electrician","Consultant","Investment Banker","Programmer"],W=(0,i.aZ)({name:"addprofession",setup(){const e=(0,_.Z)(),s=(0,C.iH)(x);let o=[];const i=(0,C.iH)(o);return{$q:e,ratingModel:(0,C.iH)(1),ratingColors:["blue-2","blue-4","blue-6","blue-8","blue-10"],showAddProfession:(0,C.iH)(!1),showProfessions:(0,C.iH)(!0),isUpdate:(0,C.iH)(!1),professionId:(0,C.iH)(null),onProfessionChange(){let e=y.find((e=>e.title===this.professionModel));o=e.options},profession:M,subProfessionModel:(0,C.iH)(null),filterOptions:i,professionModel:(0,C.iH)(null),professionOptions:x,options:s,createValue(e,s){e.length>0&&(o.includes(e)||o.push(e),s(e,"toggle"))},filterFn(e,o){o(""!==e?()=>{const o=e.toLowerCase();s.value=x.filter((e=>e.toLowerCase().indexOf(o)>-1))}:()=>{s.value=x})},filterFn2(e,s){s((()=>{if(""===e)i.value=o;else{const s=e.toLowerCase();i.value=o.filter((e=>e.toLowerCase().indexOf(s)>-1))}}))}}},methods:{onSubmit(){this.isUpdate?V.api.patch("user/profession",{id:this.professionId,profession:this.professionModel,subProfession:this.subProfessionModel,skillLevel:this.ratingModel}).then((e=>{console.log(e.data),e.data.success?(this.$q.notify({message:e.data.msg,color:"green"}),this.$router.push("/profile")):this.$q.notify({message:e.data.msg,color:"red"})})).catch((e=>{console.log(e)})):V.api.post("user/addprofession",{profession:this.professionModel,subProfession:this.subProfessionModel,skillLevel:this.ratingModel}).then((e=>{console.log(e.data),e.data.success?(this.$q.notify({message:"Successfully added!",color:"green"}),this.$router.push("/profile")):this.$q.notify({message:e.data.msg,color:"red"})})).catch((e=>{console.log(e)}))},editProfession(e){this.professionId=e._id,this.showProfessions=!1,this.showAddProfession=!0,this.isUpdate=!0,this.professionModel=e.profession,this.subProfessionModel=e.subProfession},cancelEdit(){this.isUpdate=!1,this.showProfessions=!0,this.showAddProfession=!1}},data(){return{user:{}}},mounted(){try{V.api.defaults.headers.common.Authorization="Bearer "+this.store.user.token}catch(e){console.log(e)}V.api.get("user/info").then((e=>{console.log(e.data),this.user=e.data.user,this.professionsLength=this.user.professions.length}))}});var U=o(1639),A=o(8879),H=o(7691),L=o(1570),F=o(8326),D=o(8401),Z=o(9984),S=o.n(Z);const $=(0,U.Z)(W,[["render",q]]),z=$;S()(W,"components",{QBtn:A.Z,QChip:H.Z,QRating:L.Z,QForm:F.Z,QSelect:D.Z})}}]);