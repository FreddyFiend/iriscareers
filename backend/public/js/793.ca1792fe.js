"use strict";(globalThis["webpackChunkfrontend"]=globalThis["webpackChunkfrontend"]||[]).push([[793],{4793:(e,t,o)=>{o.r(t),o.d(t,{default:()=>P});var s=o(9835),l=o(6970);const a=e=>((0,s.dD)("data-v-34b5ff3e"),e=e(),(0,s.Cn)(),e),i={class:"q-pa-md row justify-center items-start",style:{"min-height":"100vh"}},p=a((()=>(0,s._)("div",{class:"q-pa-md text-h6 text-center col-12"},"Job applicants",-1))),n={class:""},r=["onClick"],c=["onClick"],u={class:"q-pa-md"},d={key:0,class:"col-12"},m=a((()=>(0,s._)("div",{class:"text-h6"},"Enter your response",-1))),h=(0,s.Uk)("Submit response");function g(e,t,o,a,g,b){const w=(0,s.up)("q-btn"),f=(0,s.up)("q-page-sticky"),y=(0,s.up)("q-input"),v=(0,s.up)("q-btn-toggle"),k=(0,s.up)("q-form");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(f,{position:"top-left",offset:[18,18],onClick:t[0]||(t[0]=t=>e.$router.push(`/profile/${this.store.user.slug}`))},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{fab:"",icon:"arrow_back",color:"primary"})])),_:1}),p,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.proposals,((o,a)=>((0,s.wg)(),(0,s.iD)("div",{style:{"max-width":"500px"},key:o._id,class:"q-pa-md row justify-between items-center"},[(0,s._)("div",n,[(0,s._)("div",{class:"text-h6 cursor-pointer",onClick:e=>this.$router.push(`/jobpost/${o.jobPost.slug}`)}," Job title: "+(0,l.zw)(o.jobPost.title),9,r),(0,s._)("div",{class:"text-h6 text-primary cursor-pointer",onClick:e=>this.$router.push(`/profile/${o.applicant.slug}`)}," User Profile: "+(0,l.zw)(o.applicant.username),9,c)]),(0,s._)("div",u,[(0,s.Wm)(w,{class:"q-pa-md",outline:"",color:"primary",label:"Respond",onClick:t=>e.showApplicantDetails(o.applicant.slug)},null,8,["onClick"])]),o.applicant.slug==e.selectedSlug&&e.showRespond?((0,s.wg)(),(0,s.iD)("div",d,[(0,s.Wm)(k,{onSubmit:t=>e.onSubmit(o)},{default:(0,s.w5)((()=>[m,(0,s.Wm)(y,{modelValue:e.responseText,"onUpdate:modelValue":t[1]||(t[1]=t=>e.responseText=t),outlined:"",type:"textarea","lazy-rules":"",rules:[e=>e&&e.length>0||"Please Select something"]},null,8,["modelValue","rules"]),(0,s.Wm)(v,{modelValue:e.accept,"onUpdate:modelValue":t[2]||(t[2]=t=>e.accept=t),spread:"",class:"my-custom-toggle q-ma-md","no-caps":"",rounded:"",unelevated:"","toggle-color":"primary",color:"white","text-color":"primary",options:[{label:"Rejected",value:!1},{label:"Accepted",value:!0}]},null,8,["modelValue"]),(0,s.Wm)(w,{outline:"",color:"primary",type:"submit"},{default:(0,s.w5)((()=>[h])),_:1})])),_:2},1032,["onSubmit"])])):(0,s.kq)("",!0)])))),128))])])}var b=o(1569),w=o(861);const f=(0,s.aZ)({name:"JobApplicants",setup(){const e=(0,w.E)();return{store:e}},data(){return{proposals:[],selectedSlug:"",showRespond:!1,responseText:"",accept:!1}},methods:{showApplicantDetails(e){this.selectedSlug=e,this.showRespond=!this.showRespond},onSubmit(e){this.$q.loading.show(),b.api.patch("/proposal/respond",{proposalId:e._id,isAccepted:this.accept,response:this.responseText}).then((e=>{this.$q.loading.hide(),this.getJobProposals(),this.$q.notify({color:"primary",message:e.data.msg})})).catch((e=>{this.$q.loading.hide(),this.$q.notify({color:"primary",message:"Something went wrong"})}))},getJobProposals(){b.api.get("/proposal/receivedproposals").then((e=>{this.proposals=e.data.proposal,console.log(e.data)}))}},mounted(){setTimeout((()=>{this.getJobProposals()}),500)}});var y=o(1639),v=o(627),k=o(8879),q=o(8326),_=o(6611),x=o(1389),S=o(9984),$=o.n(S);const C=(0,y.Z)(f,[["render",g],["__scopeId","data-v-34b5ff3e"]]),P=C;$()(f,"components",{QPageSticky:v.Z,QBtn:k.Z,QForm:q.Z,QInput:_.Z,QBtnToggle:x.Z})}}]);