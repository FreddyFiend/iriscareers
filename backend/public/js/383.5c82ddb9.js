"use strict";(globalThis["webpackChunkfrontend"]=globalThis["webpackChunkfrontend"]||[]).push([[383],{4383:(e,o,t)=>{t.r(o),t.d(o,{default:()=>k});var s=t(9835);const l=(0,s._)("div",{class:"q-px-md text-h6"},"Edit Profile Details",-1),a={class:"q-pa-sm"};function r(e,o,t,r,i,n){const u=(0,s.up)("q-btn"),d=(0,s.up)("q-page-sticky"),m=(0,s.up)("q-input"),c=(0,s.up)("q-form"),h=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(h,{class:"q-pa-md flex flex-center row justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{position:"top-left",offset:[18,18],onClick:o[0]||(o[0]=o=>e.$router.push(`/profile/${this.store.user.slug}`))},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{fab:"",icon:"arrow_back",color:"primary"})])),_:1}),(0,s.Wm)(c,{onSubmit:e.onSubmit,class:"q-ma-sm q-pa-md col-12 bg-white shadow-6",style:{"max-width":"500px"}},{default:(0,s.w5)((()=>[l,(0,s.Wm)(m,{outlined:"",class:"q-pa-md",readonly:"",autogrow:"",modelValue:e.username,"onUpdate:modelValue":o[1]||(o[1]=o=>e.username=o),label:"Username","lazy-rules":""},null,8,["modelValue"]),(0,s.Wm)(m,{outlined:"",class:"q-pa-md",autogrow:"",modelValue:e.bio,"onUpdate:modelValue":o[2]||(o[2]=o=>e.bio=o),label:"Bio","lazy-rules":"",rules:[e=>e&&e.length<300||"Please type less than 300 characters"]},null,8,["modelValue","rules"]),(0,s._)("div",a,[(0,s.Wm)(u,{rounded:"",outlined:"","text-color":"primary","bg-color":"white",label:"Done",type:"submit",color:"white "}),(0,s.Wm)(u,{rounded:"",outlined:"",class:"q-mx-sm","text-color":"primary","bg-color":"white",label:"Cancel",onClick:o[3]||(o[3]=o=>e.$router.push(`/profile/${this.store.user.slug}`)),color:"white "})])])),_:1},8,["onSubmit"])])),_:1})}var i=t(499),n=t(861),u=t(1569),d=t(9302);const m=(0,s.aZ)({name:"editProfile",setup(){let e=(0,d.Z)();const o=(0,n.E)();return{q:e,store:o,bio:(0,i.iH)(""),username:(0,i.iH)("")}},methods:{onSubmit(){this.q.loading.show(),u.api.patch("/user",{bio:this.bio}).then((e=>{this.$router.push(`/profile/${this.store.user.slug}`),this.q.notify({message:e.data.msg,color:"green"}),$q.loading.hide()})).catch((e=>{this.q.loading.hide(),e.response&&this.q.notify({message:e.response.data.msg,color:"red"})}))}},mounted(){this.username=this.store.loadedUser.username,this.bio=this.store.loadedUser.bio,console.log(this.bio)}});var c=t(1639),h=t(9885),p=t(627),b=t(8879),g=t(8326),f=t(6611),q=t(9984),w=t.n(q);const y=(0,c.Z)(m,[["render",r]]),k=y;w()(m,"components",{QPage:h.Z,QPageSticky:p.Z,QBtn:b.Z,QForm:g.Z,QInput:f.Z})}}]);