"use strict";(globalThis["webpackChunkfrontend"]=globalThis["webpackChunkfrontend"]||[]).push([[599],{2599:(t,e,o)=>{o.r(e),o.d(e,{default:()=>f});var s=o(9835);const l=(0,s._)("div",{class:"q-px-md text-h6"},"Edit Address",-1),a={class:"q-pa-sm"};function i(t,e,o,i,n,d){const r=(0,s.up)("q-btn"),u=(0,s.up)("q-page-sticky"),c=(0,s.up)("q-select"),h=(0,s.up)("q-form"),p=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(p,{class:"q-pa-md flex flex-center row justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{position:"top-left",offset:[18,18],onClick:e[0]||(e[0]=e=>t.$router.push(`/profile/${this.store.user.slug}`))},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{fab:"",icon:"arrow_back",color:"primary"})])),_:1}),(0,s.Wm)(h,{onSubmit:t.onSubmit,class:"q-ma-sm q-pa-md col-12 bg-white shadow-6",style:{"max-width":"500px"}},{default:(0,s.w5)((()=>[l,(0,s.Wm)(c,{class:"q-pa-md",outlined:"",options:t.countryOptions,modelValue:t.countryModel,"onUpdate:modelValue":[e[1]||(e[1]=e=>t.countryModel=e),e[2]||(e[2]=e=>t.onCountrySelect())],label:"Country"},null,8,["options","modelValue"]),(0,s.Wm)(c,{class:"q-pa-md",outlined:"",options:t.stateOptions.map((t=>({label:t.name,value:t.iso2}))),modelValue:t.stateModel,"onUpdate:modelValue":[e[3]||(e[3]=e=>t.stateModel=e),e[4]||(e[4]=e=>t.onStateSelect())],label:"State"},null,8,["options","modelValue"]),(0,s.Wm)(c,{class:"q-pa-md",outlined:"",modelValue:t.cityModel,"onUpdate:modelValue":e[5]||(e[5]=e=>t.cityModel=e),options:t.cityOptions.map((t=>({label:t.name,value:t.iso2}))),label:"City"},null,8,["modelValue","options"]),(0,s._)("div",a,[(0,s.Wm)(r,{rounded:"",outlined:"","text-color":"primary","bg-color":"white",label:"Done",type:"submit",color:"white "}),(0,s.Wm)(r,{rounded:"",outlined:"",class:"q-mx-sm","text-color":"primary","bg-color":"white",label:"Cancel",onClick:e[6]||(e[6]=e=>t.$router.push(`/profile/${this.store.user.slug}`)),color:"white "})])])),_:1},8,["onSubmit"])])),_:1})}var n=o(499),d=o(861),r=o(1569),u=o(9302);const c=(0,s.aZ)({name:"addAddress",setup(){let t=(0,u.Z)();const e=(0,d.E)();return{q:t,store:e,cityModel:(0,n.iH)(null),cityOptions:(0,n.iH)([]),countryModel:(0,n.iH)(null),countryOptions:(0,n.iH)([]),stateModel:(0,n.iH)(null),stateOptions:(0,n.iH)([]),getCountries(){this.q.loading.show();let t={method:"get",url:"https://api.countrystatecity.in/v1/countries",headers:{"X-CSCAPI-KEY":"bUxVZ3ZFUWlNWVlKQ3BzM1hSdG1GT0xHMGpkczJ5aU9OTXNxa1o1RQ=="}};setTimeout((()=>{this.$axios(t).then((t=>{this.q.loading.hide(),console.log(t.data),this.countryOptions=t.data.map((t=>({label:t.name,value:t.iso2})))})).catch((t=>{this.q.loading.hide(),console.log(t)}))}),500)},onCountrySelect(){this.q.loading.show();var t={method:"get",url:`https://api.countrystatecity.in/v1/countries/${this.countryModel.value}/states`,headers:{"X-CSCAPI-KEY":"bUxVZ3ZFUWlNWVlKQ3BzM1hSdG1GT0xHMGpkczJ5aU9OTXNxa1o1RQ=="}};this.$axios(t).then((t=>{this.q.loading.hide(),this.stateOptions=t.data})).catch((t=>{this.q.loading.hide(),console.log(t)}))},onStateSelect(){this.q.loading.show();var t={method:"get",url:`https://api.countrystatecity.in/v1/countries/${this.countryModel.value}/states/${this.stateModel.value}/cities`,headers:{"X-CSCAPI-KEY":"bUxVZ3ZFUWlNWVlKQ3BzM1hSdG1GT0xHMGpkczJ5aU9OTXNxa1o1RQ=="}};this.$axios(t).then((t=>{this.q.loading.hide(),this.cityOptions=t.data})).catch((t=>{this.q.loading.hide(),console.log(t)}))}}},methods:{onSubmit(){this.q.loading.show(),r.api.post("/user/addaddress",{country:this.countryModel,city:this.cityModel,state:this.stateModel,address1:"",address2:"",address3:""}).then((t=>{this.$router.push(`/profile/${this.store.user.slug}`),this.q.notify({message:t.data.msg,color:"green"}),$q.loading.hide()})).catch((t=>{this.q.loading.hide(),t.response&&this.q.notify({message:t.response.data.msg,color:"red"})}))}},mounted(){this.getCountries()}});var h=o(1639),p=o(9885),m=o(627),g=o(8879),y=o(8326),q=o(6997),b=o(9984),x=o.n(b);const M=(0,h.Z)(c,[["render",i]]),f=M;x()(c,"components",{QPage:p.Z,QPageSticky:m.Z,QBtn:g.Z,QForm:y.Z,QSelect:q.Z})}}]);